package com.thelab.hotel32.views{	import com.thelab.hotel32.BottomGradient;	import com.thelab.hotel32.BottomLeftStub;	import com.thelab.hotel32.BottomRightStub;	import com.thelab.hotel32.Main;	import com.thelab.hotel32.TopGradient;	import com.thelab.hotel32.TopLeftStub;	import com.thelab.hotel32.TopRightStub;	import com.thelab.hotel32.assets.AssetLoader;		import flash.display.BitmapData;	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.Event;
		public class PageBackground extends Sprite	{		private var topGradient : MovieClip;		private var topLeftStub : MovieClip;		private var topRightStub : MovieClip;		private var bottomGradient : MovieClip;								public function PageBackground()		{			if (stage) { init(); } else { addEventListener(Event.ADDED_TO_STAGE, init, false, 0, true); }		}				private function init(e:Event=null):void		{									removeEventListener(Event.ADDED_TO_STAGE, init);									topGradient = new TopGradient();			addChild(topGradient);						topLeftStub = new TopLeftStub();			topLeftStub.scaleX = -1;			topGradient.addChild(topLeftStub);									topRightStub = new TopRightStub();			topRightStub.x = topGradient.getChildAt(0).width;			topGradient.addChild(topRightStub);									bottomGradient = new BottomGradient();			addChild(bottomGradient);			bottomGradient.y = 584;						stage.addEventListener(Event.RESIZE, onStageResize, false, 0, true);			stage.dispatchEvent(new Event(Event.RESIZE));		}				private function onStageResize(e:Event=null):void		{			var offset:Number = Math.floor((stage.stageWidth - AppStage.PUBLISH_WIDTH) * .5);						topLeftStub.scaleX = -offset;			topRightStub.scaleX = offset;						bottomGradient.scaleX = stage.stageWidth / AppStage.PUBLISH_WIDTH;			bottomGradient.x = -offset;			if (stage.stageWidth < AppStage.PUBLISH_WIDTH && stage.stageWidth > AppStage.MIN_WIDTH)			{				bottomGradient.x -= AppStage.getInstance().x;			}			if (stage.stageWidth < AppStage.MIN_WIDTH)			{				bottomGradient.x -= AppStage.getInstance().x;			}					}	}}